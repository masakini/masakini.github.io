<!DOCTYPE html>
<html>
     <head>
     <title>Token Position Booster</title>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
     <style>
           body     {
                     color:white; 
                     font-weight:bold; 
                     text-align:center; 
                     background-color:black; 
                    }
           .title   {
                     font-size:28px; 
                    }
           fieldset {
                     border:2px solid goldenrod; 
                     border-radius:8px;
                    }
           legend   {
                     font-size:22px; 
                     text-align:center; 
                     color:goldenrod; 
                    }
           label    {
                     font-size:20px; 
                     color:dodgerblue; 
                    }
           textarea {
                     resize:none; 
                     text-align:center; 
                     color:white; 
                     font-size:18px; 
                     font-weight:bold; 
                     background-color:mediumseagreen; 
                     border:none; 
                     border-radius:6px; 
                     padding:6px 2px; 
                    }
           select   {
                     color:white; 
                     background-color:mediumseagreen; 
                     font-size=22px; 
                     font-weight:bold; 
                     border-radius:6px; 
                     padding:6px 15px; 
                    }
           .execss  {
                     color:white; 
                     background-color:indigo; 
                     font-size:22px; 
                     font-weight:bold; 
                     height:48px; 
                     width:85%; 
                     border:none; 
                     border-radius:10px; 
                    }
     </style>
     </head>
     <body>
          <div class="title">
               STEP 1<br>
               WALLET ACTIVATION<br><br>
          </div>
          <div>
               <form onsubmit="return execute()" id="step-1" name="step-1">
                    <fieldset>
                             <legend>ACTIVATION MANAGER</legend>
                             <label for="activatorsecretkey">Activator Secret Key</label><br>
                             <textarea rows="2" cols="28" required id="activatorsecretkey" name="activatorsecretkey"></textarea><br>
                             <label for="jumlahxlm">XLM Amount</label><br>
                             <textarea rows="1" cols="28" required id="jumlahxlm" name="jumlahxlm"></textarea><br>
                    </fieldset><br>
                    <fieldset>
                             <legend>ACTIVATION TARGET</legend>
                             <label for="targetpublickey">Enter Public Key - One Per Line</label><br>
                             <textarea rows="11" cols="28" required id="targetpublickey" name="targetpublickey"></textarea><br>
                    </fieldset><br>
                    <input class="execss" type="submit" value="EXECUTE TRANSACTIONS">
               </form><br>
          </div>
          <div>
               <form action="./step-2.html" method="get">
                    <input class="execss" type="submit" value="BYPASS TRANSACTIONS">
               </form><br>
               <fieldset>
                         <legend>Developers</legend>
                         Coding By <a href="https://t.me/xoerbiston">Xoer Biston</a><br>
                         UI By <a href="https://t.me/IdamanMasaKini">Masa Kini</a><br>
               </fieldset><br>
               <i>Best View on Via Browser</i><br>
          </div><br>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/stellar-sdk/9.0.1/stellar-sdk.js">

function execute() {

const server = new StellarSdk.Server('https://horizon.stellar.org');
const fee = await server.fetchBaseFee();

StellarSdk.Network.usePublicNetwork();

var sourceSecretKey = document.getElementById("activatorsecretkey");
var sourceKeypair = StellarSdk.Keypair.fromSecret(sourceSecretKey);
var sourcePublicKey = sourceKeypair.publicKey();
var receiverPublicKey = document.getElementById("targetpublickey");
var account = await server.loadAccount(sourcePublicKey);

var transaction = new StellarSdk.TransactionBuilder(account, { fee })

  .addOperation(StellarSdk.Operation.payment({
    destination: receiverPublicKey, 
    asset: StellarSdk.Asset.native(), 
    amount: document.getElementById("jumlahxlm"), 
  }))
  .setTimeout(30)
  .build();

transaction.sign(sourceKeypair);

console.log(transaction.toEnvelope().toXDR('base64'));

try {
  const transactionResult = await server.submitTransaction(transaction);
  console.log(JSON.stringify(transactionResult, null, 2));
  console.log('\nSuccess! View the transaction at: ');
  console.log(transactionResult._links.transaction.href);
} catch (e) {
  console.log('An error has occured:');
  console.log(e);
}

}

</script>
     </body>
</html>
